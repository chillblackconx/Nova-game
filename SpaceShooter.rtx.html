<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Space Shooter RTX</title>
<style>
body{margin:0;background:#000;overflow:hidden;}
canvas{display:block;margin:0 auto;background:#111;}
</style>
</head>
<body>
<canvas id="game" width="400" height="400"></canvas>
<script>
const canvas = document.getElementById('game');
const ctx = canvas.getContext('2d');

let player = {x:200, y:350, w:30, h:20};
let keys = {};
let bullets = [];
let enemies = [];
let score = 0;
let gameOver = false;

document.addEventListener('keydown', e => keys[e.key] = true);
document.addEventListener('keyup', e => keys[e.key] = false);

function spawnEnemy(){
  const x = Math.random() * (canvas.width - 20);
  enemies.push({x:x, y:0, w:20, h:20});
}

function update(){
  if(gameOver) return;

  // Déplacement joueur
  if(keys['ArrowLeft'] && player.x>0) player.x -=5;
  if(keys['ArrowRight'] && player.x+player.w<canvas.width) player.x +=5;
  if(keys[' ']) bullets.push({x:player.x+player.w/2-2, y:player.y-10, w:4, h:10});

  // Mise à jour balles
  bullets.forEach((b,i)=>{
    b.y -=7;
    enemies.forEach((e,j)=>{
      if(b.x < e.x+e.w && b.x+b.w > e.x &&
         b.y < e.y+e.h && b.y+b.h > e.y){
        bullets.splice(i,1);
        enemies.splice(j,1);
        score += 10;
      }
    });
  });

  // Mise à jour ennemis
  enemies.forEach(e=>{
    e.y += 3;
    if(e.y + e.h >= canvas.height) gameOver = true;
    if(e.y + e.h >= player.y && e.x < player.x+player.w && e.x+e.w > player.x){
      gameOver = true;
    }
  });

  // Spawn aléatoire des ennemis
  if(Math.random() < 0.02) spawnEnemy();
}

function draw(){
  ctx.clearRect(0,0,canvas.width,canvas.height);
