<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Adapter un jeu - Neon Studio</title>
<style>
body{
  margin:0;
  font-family:'Segoe UI',sans-serif;
  background:#0a0a0f;
  color:#fff;
  text-align:center;
}
textarea{
  width:90%;
  height:300px;
  margin:20px auto;
  background:#111;
  color:#0f0;
  border:none;
  padding:10px;
  border-radius:10px;
  font-family:monospace;
  font-size:14px;
}
button{
  padding:10px 20px;
  background:#f00;
  border:none;
  color:#fff;
  font-weight:bold;
  border-radius:10px;
  cursor:pointer;
  margin-bottom:20px;
  transition:0.3s;
}
button:hover{
  background:#ff5555;
}
#preview{
  width:90%;
  height:400px;
  border:2px solid #f00;
  border-radius:10px;
  margin:auto;
  display:block;
}
</style>
</head>
<body>

<h1>Adapter un jeu - Neon Studio</h1>

<p>Colle ton code de jeu ici :</p>
<textarea id="gameCode"><!DOCTYPE html>
<html>
<head><title>Mon jeu RTX</title></head>
<body>
<h1 style="color:#f00;text-align:center">Hello Neon Studio RTX!</h1>
</body>
</html>
</textarea>

<br>
<button id="previewBtn">Prévisualiser</button>
<button id="convertBtn">Convertir pour le site</button>

<iframe id="preview"></iframe>

<script>
const preview = document.getElementById('preview');
const textarea = document.getElementById('gameCode');

// Prévisualisation dans l'iframe
document.getElementById('previewBtn').addEventListener('click',()=>{
  const code = textarea.value;
  // On enveloppe dans une structure HTML minimale
  const adapted = `<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Mon Jeu RTX</title>
</head>
<body>
${code}
</body>
</html>`;
  preview.srcdoc = adapted;
});

// Convertir et télécharger en .rtx.html compatible
document.getElementById('convertBtn').addEventListener('click',()=>{
  const code = textarea.value;
  const adapted = `<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Mon Jeu RTX</title>
</head>
<body>
${code}
</body>
</html>`;
  const blob = new Blob([adapted], {type:'text/html'});
  const a = document.createElement('a');
  a.href = URL.createObjectURL(blob);
  let fileName = prompt("Nom du jeu (sans extension):","MonJeu");
  if(fileName){
    if(!fileName.endsWith('.rtx')) fileName += '.rtx';
    a.download = fileName+'.html';
    a.click();
    alert("Votre jeu est maintenant compatible et peut être placé à côté de index.html !");
  }
});
</script>

</body>
</html>
