<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Adapter un jeu - Neon Studio</title>
<style>
body{
  margin:0;
  font-family:'Segoe UI',sans-serif;
  background:#0a0a0f;
  color:#fff;
  text-align:center;
}
textarea{
  width:90%;
  height:200px;
  margin:20px auto;
  background:#111;
  color:#0f0;
  border:none;
  padding:10px;
  border-radius:10px;
  font-family:monospace;
  font-size:14px;
  resize:vertical;
}
button{
  padding:10px 20px;
  background:#f00;
  border:none;
  color:#fff;
  font-weight:bold;
  border-radius:10px;
  cursor:pointer;
  margin-bottom:20px;
  transition:0.3s;
}
button:hover{
  background:#ff5555;
}
#preview{
  width:90%;
  height:300px;
  border:2px solid #f00;
  border-radius:10px;
  margin:auto;
  display:block;
}
#adaptedCode{
  width:90%;
  height:200px;
  background:#111;
  color:#0f0;
  border:none;
  padding:10px;
  border-radius:10px;
  font-family:monospace;
  font-size:14px;
  margin:20px auto;
  resize:vertical;
}
h2{
  margin-top:30px;
}
</style>
</head>
<body>

<h1>Adapter un jeu - Neon Studio</h1>

<p>Colle ton code de jeu ici :</p>
<textarea id="gameCode"></textarea>

<br>
<button id="previewBtn">Prévisualiser</button>
<button id="convertBtn">Adapter pour le site</button>

<h2>Prévisualisation</h2>
<iframe id="preview"></iframe>

<h2>Code adapté</h2>
<textarea id="adaptedCode" readonly></textarea>

<script>
const preview = document.getElementById('preview');
const textarea = document.getElementById('gameCode');
const adaptedArea = document.getElementById('adaptedCode');

// Prévisualisation dans l'iframe
document.getElementById('previewBtn').addEventListener('click',()=>{
  const code = textarea.value;
  // On enveloppe dans une structure minimale
  const adapted = `<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Mon Jeu RTX</title>
</head>
<body>
${code}
</body>
</html>`;
  preview.srcdoc = adapted;
});

// Convertir pour le site et afficher dans la zone plus bas
document.getElementById('convertBtn').addEventListener('click',()=>{
  const code = textarea.value;
  // Vérification simple : le code doit contenir au moins un body
  if(!code.includes("<body") && !code.includes("<canvas") && !code.includes("<script")){
    alert("Attention : votre code semble incompatible avec le site.");
    adaptedArea.value = "";
    return;
  }
  const adapted = `<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Mon Jeu RTX</title>
</head>
<body>
${code}
</body>
</html>`;
  adaptedArea.value = adapted;
  alert("Le code est maintenant adapté pour votre site. Vous pouvez le copier et créer un fichier .rtx.html.");
});
</script>

</body>
</html>
